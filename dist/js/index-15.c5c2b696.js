(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{101:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var a=n(35),o=function(){return{type:a.d}},r=function(){return{type:a.e}}},147:function(e,t){e.exports="public/logo.c23d79c2.png"},151:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(9),l=n.n(r),c=n(12),i=n(50),s=n(64),u=n.n(s),d=(n(104),n(137)),p=(n(150),n(68)),m=(n(72),n(15)),h=(n(103),n(70)),f=(n(141),n(66)),g=(n(145),n(99)),y=n(52),E=n(101),v=(n(106),n(135)),b=(n(140),n(65)),C=(n(262),n(97)),O=(n(73),n(67)),S=n(0),w=n.n(S),I=n(54),k=function(e){var t=e.city,n=e.school,a=e.visible,r=e.loading,l=e.showModal,c=e.handleCancel,i=e.selectAll,s=e.selectCity,u=e.selectSchool;return o.a.createElement("div",null,o.a.createElement(O.a,{style:{border:"none"},type:"primary",ghost:!0,icon:"environment-o",onClick:l},"[ 选择学校 ]"),o.a.createElement(v.a,{className:"SelectSchool",visible:a,onCancel:c,width:"600px",title:"请选择学校：",footer:""},o.a.createElement("div",{className:"selectAll"},"快捷选择：",o.a.createElement(C.a,{onClick:i,color:"cyan"},"所有学校")),o.a.createElement(b.a,{className:"city-container",grid:{gutter:16,column:8},dataSource:t,renderItem:function(e){return o.a.createElement(b.a.Item,null,o.a.createElement(C.a,{onClick:s,title:e,color:"cyan"},e))}}),o.a.createElement(b.a,{className:"school-container",grid:{gutter:16,column:4},dataSource:n.content,renderItem:function(e){return o.a.createElement(b.a.Item,null,o.a.createElement(C.a,{onClick:u,title:e,color:"cyan"},e))}})),o.a.createElement(I.a,{loading:r}))};k.propTypes={school:w.a.object,showModal:w.a.func.isRequired,handleCancel:w.a.func.isRequired,loading:w.a.bool.isRequired,visible:w.a.bool.isRequired};var _=k,R=(n(209),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e});var x=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={visible:!1,loading:!1,school:a.props.schoolData[0]},a.showModal=a.showModal.bind(a),a.handleCancel=a.handleCancel.bind(a),a.selectAll=a.selectAll.bind(a),a.selectSchool=a.selectSchool.bind(a),a.selectCity=a.selectCity.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.showModal=function(){this.setState({visible:!0})},t.prototype.handleCancel=function(){this.setState({visible:!1})},t.prototype.selectCity=function(e){var t=e.target.title;console.log(t);var n=this.props.schoolData.filter(function(e,n,a){return e.city===t});console.log(0===n.length),0===n.length&&(alert("暂时没有数据"),n.push(this.state.school),console.log(n)),this.setState({school:n[0]})},t.prototype.selectSchool=function(e){var t=this;console.log(e.target.title),this.setState({loading:!0,visible:!1}),setTimeout(function(){t.setState({loading:!1})},3e3)},t.prototype.selectAll=function(){var e=this;console.log(this.state.school),this.setState({loading:!0}),setTimeout(function(){e.setState({loading:!1})},1e3)},t.prototype.render=function(){var e=this.state,t=e.visible,n=e.loading,a=e.school,r=this.props,l=r.city,i=r.isLogin,s=r.userInfo,u=r.loginOut,p={visible:t,loading:n,school:a,city:l,showModal:this.showModal,handleCancel:this.handleCancel,selectCity:this.selectCity,selectSchool:this.selectSchool,selectAll:this.selectAll};return console.log(i),o.a.createElement(d.a,{type:"flex",justify:"center",style:{height:"30px",lineHeight:"30px",width:"100%",background:"rgb(51,51,51)"}},o.a.createElement(h.a,{xs:10},o.a.createElement(_,p)),o.a.createElement(h.a,{xs:10},o.a.createElement("div",{className:"top_user_info",key:"top_user"},i||y.a.get("userId")?o.a.createElement("div",null,o.a.createElement(c.b,{to:"/userSet/?userId="+s.id},o.a.createElement(m.a,{type:"user"}),s.username),o.a.createElement(g.a,{type:"vertical"}),o.a.createElement(c.b,{to:"/userSet/shoppingCart/?userId="+(s.id||y.a.get("userId"))},o.a.createElement(m.a,{type:"shopping-cart"}),"我的购物车"),o.a.createElement(g.a,{type:"vertical"}),o.a.createElement("a",{className:"taxt_blue_color cursor_pointer",href:"/login",onClick:function(){return u()}},o.a.createElement(m.a,{type:"logout"}),"退出登入")):o.a.createElement("div",null,o.a.createElement(c.b,{to:"/login"},o.a.createElement(m.a,{type:"login"}),"登录"),o.a.createElement(g.a,{type:"vertical"}),o.a.createElement(c.b,{className:"taxt_blue_color",to:"/regist"},o.a.createElement(m.a,{type:"user-add"}),"立即注册")))))},t}(a.Component),T=Object(i.connect)(function(e,t){var n=e.loginInOutReducer;return console.log(n),R({},n)},function(e){return{loginOut:function(){y.a.del("userId"),e(Object(E.b)()),console.log("del"),console.log((void 0).props.isLogin)}}})(x),P=(n(207),n(134));n(204);var j=function(e){var t=e.toId;return o.a.createElement(P.a,{className:"to_top",showInkInFixed:!1,bounds:1e3,offsetTop:600},o.a.createElement(P.a.Link,{title:o.a.createElement(m.a,{type:"to-top"}),href:t}))};j.propTypes={toId:w.a.string.isRequired};var N=j;n(193);var D=n(147),F=f.a.Header,H=f.a.Content,L=f.a.Footer,A=["北京","上海","黑龙江","吉林","辽宁","天津","安徽","江苏","浙江","陕西","湖北","广东","湖南","甘肃","四川","山东","福建","河南","重庆","云南","河北","江西","山西","贵州","广西","内蒙古","宁夏","青海","新疆","海南","西藏","香港","澳门","台湾"],M=[{id:0,city:"江西",content:["江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学"]},{id:1,city:"北京",content:["江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学"]},{id:2,city:"广东",content:["江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学"]},{id:3,city:"上海",content:["江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学"]},{id:4,city:"南京",content:["江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学"]},{id:5,city:"江苏",content:["江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西农业大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学","江西财经大学"]}],q=function(e){var t=e.children;return o.a.createElement(f.a,null,o.a.createElement(T,{schoolData:M,city:A}),o.a.createElement(F,{id:"top",style:{width:"100%",height:"66px",background:"#fff",fontSize:"3em"}},o.a.createElement(d.a,{type:"flex",justify:"space-around"},o.a.createElement(h.a,{xs:6,className:"logo"},o.a.createElement("img",{src:D})),o.a.createElement(h.a,{xs:14},o.a.createElement(p.a,{id:"top",mode:"horizontal",style:{lineHeight:"64px",float:"right"}},o.a.createElement(p.a.Item,{key:"1"},o.a.createElement(c.c,{to:"/index"},o.a.createElement(m.a,{type:"home"}),"首页")),o.a.createElement(p.a.Item,{key:"2"},o.a.createElement(c.c,{to:"/product"},o.a.createElement(m.a,{type:"shopping-cart"}),"出售")),o.a.createElement(p.a.Item,{key:"3"},o.a.createElement(m.a,{type:"shop"}),"求购"))))),o.a.createElement(H,{className:"margin_top padding_right_left  layout_content"},o.a.createElement("div",{className:"white_bgColor"},t),o.a.createElement(N,{toId:"#top"})),o.a.createElement(L,{style:{textAlign:"center"}},"校园旧书街 ©2018-6-1 Created by 江西农业大学-计算机科学与技术"))},B=(n(191),n(29)),U=n.n(B),z=n(51),G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var J=function(e){var t=e.isLoading,n=e.error;return t?o.a.createElement(I.a,{loading:t}):n?o.a.createElement("div",null,"Sorry, there was a problem loading the page."):null},W=U()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(5),n.e(12)]).then(n.bind(null,599))},loading:J}),K=U()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,597))},loading:J}),Q=U()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(10)]).then(n.bind(null,590))},loading:J}),V=U()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,591))},loading:J}),X=U()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(8)]).then(n.bind(null,589))},loading:J}),Y=U()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(7)]).then(n.bind(null,603))},loading:J}),Z=U()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(6)]).then(n.bind(null,602))},loading:J}),$=function(e){var t=e.component,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["component"]);return o.a.createElement(c.e,G({},n,{render:function(e){return z.a.getState().loginInOutReducer.isLogin?o.a.createElement(t,e):o.a.createElement(c.d,{to:{pathname:"/login",state:{from:e.location}}})}}))},ee=function(){return o.a.createElement(c.f,null,o.a.createElement(c.e,{path:"/",exact:!0,render:function(){return o.a.createElement(c.d,{to:"/index"})},key:"first"}),o.a.createElement(c.e,{path:"/index",component:W,key:"list",exact:!0}),o.a.createElement(c.e,{path:"/detail/:id",component:K,key:"detail"}),o.a.createElement(c.e,{path:"/product",component:V,key:"info"}),o.a.createElement(c.e,{path:"/login",component:Q,key:"login"}),o.a.createElement(c.e,{path:"/regist",component:X,key:"regist"}),o.a.createElement(c.e,{path:"/seller/:id",component:Y,key:"seller"}),o.a.createElement($,{path:"/userSet",component:Z,key:"userSet"}))},te=u()(),ne=c.a,ae=document.getElementById("root");l.a.render(o.a.createElement(ne,{history:te},o.a.createElement(i.Provider,{store:z.a},o.a.createElement(q,null,o.a.createElement(ee,{key:"Index"})))),ae)},35:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return r}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return c});var a="FETCH_START",o="FETCH_SUCCESS",r="FETCH_ERROR",l="LOGIN_IN",c="LOGIN_OUT"},51:function(e,t,n){"use strict";var a=n(42),o=n(128),r=n.n(o),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var c=function(e,t){var n=e+"_FETCH_START",a=e+"_FETCH_SUCCESS",o=e+"_FETCH_ERROR",r=l({},t);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments[1];switch(t.type){case n:return l({},e,{status:"loading"});case a:return l({},e,{status:"success"},t.result);case o:return l({},e,{status:"error"},t.error);default:return e}}},i=c("homePage",{status:"loading"}),s=n(35),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLogin:!1},t=arguments[1];switch(t.type){case s.d:return u({},e,{isLogin:!0});case s.e:return u({},e,{isLogin:!1});case"login_FETCH_START":return u({},e,{status:"loading"});case"login_FETCH_SUCCESS":var n=t.result.data;return u({},e,{status:"success",userInfo:n});case"login_FETCH_ERROR":return u({},e,{status:"error"},t.error);default:return e}},p=c("detailPage",{status:"loading"}),m=c("sellerPage",{status:"loading"}),h=c("productPage",{status:"loading"}),f=c("userPage",{status:"loading"}),g=[Object(a.applyMiddleware)(r.a)],y=a.compose.apply(void 0,g)(a.createStore)(Object(a.combineReducers)({loginInOutReducer:d,asyncReducer:i,detailData:p,sellerData:m,productData:h,userInfoData:f}),{asyncReducer:{status:"",goodPerson:{type:"",header:"",data:[]},goodsilderBooks:{type:"",header:"",data:[]},hotBooks:[],newBooks:[]},detailData:{userInfo:{},book:{}},sellerData:{sellerInfo:{},sellerBooks:[],sellerFans:[]},productData:{books:[]},userInfoData:{userInfo:{},myWarehouse:[],sellerBooks:[]},loginInOutReducer:{isLogin:!1,userInfo:{}}});t.a=y},52:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a={get:function(e){var t=document.cookie,n=t.indexOf(e+"=");if(n>-1){n=n+e.length+1;var a=t.indexOf(";",n);return a=a<0?t.length:a,decodeURIComponent(t.substring(n,a))}return""},set:function(e,t,n){n=n;var a=new Date;a.setTime(a.getTime()+24*n*3600*1e3),document.cookie=e+"="+encodeURIComponent(t)+";expires="+(void 0===n?"":a.toGMTString())},del:function(e){var t=this.get(e);!1!==t&&this.set(e,t,-1)}}},54:function(e,t,n){"use strict";n(106);var a=n(135),o=(n(105),n(133)),r=n(0),l=n.n(r),c=n(1),i=n.n(c);n(259);var s=function(e){var t=e.loading;return i.a.createElement(a.a,{closable:!1,destroyOnClose:!0,footer:null,maskClosable:!1,visible:t,keyboard:!1,wrapClassName:"vertical-center-modal"},i.a.createElement(o.a,{size:"large",tip:"Loading..."}))};s.propTypes={loading:l.a.bool.isRequired},t.a=s}},[[151,13,14,0]]]);