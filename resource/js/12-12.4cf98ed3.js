(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{317:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m});var a=n(330),r=n.n(a),o=n(101),c=n(320),l=n(51),i=(n(52),e.env.API_BASE||"http://3be1627f.ngrok.io"),s=function(e,t){t=t||{};var n=Object.keys(t).reduce(function(e,n){return e+=n+"="+t[n]+"&"},"");return""+i+e+"?"+n.substr(0,n.length-1)},u=function(e,t){return new Promise(function(n,a){r.a.get(s(e,t)).then(function(e){var t=e.data;t&&"成功"===t.msg?n(t):a(t)}).catch(a)})},p=function(e,t){return new Promise(function(n,a){r.a.post(s(e,t)).then(function(e){var t=e.data;t&&"成功"===t.msg?n(t):a(t)}).catch(a)})},m=function(e,t){return new Promise(function(n,a){l.a.dispatch(Object(c.b)("login")),r.a.post(s(e,t)).then(function(e){var t=e.data;t&&0===t.code?(l.a.dispatch(Object(o.a)()),l.a.dispatch(Object(c.c)("login",t)),n(t),console.log("login_in",t)):(l.a.dispatch(Object(o.b)()),l.a.dispatch(Object(c.a)("login",t)),a(t))}).catch(function(e){console.log("login_out",e),l.a.dispatch(Object(o.b)()),l.a.dispatch(Object(c.a)("login",e)),a(e)})})}}).call(this,n(326))},320:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c});var a=n(35),r=(n(317),function(e){return{type:e+"_"+a.b}}),o=function(e,t){return{type:e+"_"+a.c,result:t}},c=function(e,t){return{type:e+"_"+a.a,error:t}}},322:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(35),r=n(317),o=function(e,t,n){return function(o){var c="/mall"+n;o(function(e){return{type:e+"_"+a.b}}(e)),Object(r.a)(c,t).then(function(t){o(function(e,t){return{type:e+"_"+a.c,result:t}}(e,t))}).catch(function(t){o(function(e,t){return{type:e+"_"+a.a,error:t}}(e,t))})}}},337:function(e,t,n){"use strict";n(72);var a=n(15),r=(n(140),n(65)),o=(n(323),n(368)),c=n(1),l=n.n(c),i=n(0),s=n.n(i),u=n(12);n(300);var p=function(e){var t=e.item,n="hotBook"===e.type?"/detail/"+t.id:"/seller/"+t.id;return l.a.createElement(r.a.Item,{className:"text-overflow hover"},l.a.createElement(u.b,{to:n,title:t.name},t.img?l.a.createElement(o.a,{shape:"square",style:{backgroundColor:"#87d068"},src:t.img}):l.a.createElement(o.a,{shape:"square",style:{backgroundColor:"#87d068"},icon:"book"}),t.name,"    ","("+t.collect+")"))},m=function(e){e.path;return l.a.createElement("div",{className:"footer"},l.a.createElement(u.b,{to:"/path/?q=all"},"查看更多",l.a.createElement(a.a,{type:"double-right"})))},f=function(e){return e.data.map(function(e,t){return l.a.createElement("div",{className:"siderContainer",key:t+"slider"},l.a.createElement("h3",{className:"header"},e.header),l.a.createElement(r.a,{size:"small",footer:l.a.createElement(m,null),bordered:!0,dataSource:e.data,renderItem:function(t){return l.a.createElement(p,{item:t,type:e.type})}}))})};f.propTypes={data:s.a.array.isRequired},t.a=f},338:function(e,t,n){"use strict";n(104);var a=n(137),r=(n(103),n(70)),o=(n(100),n(598)),c=n(1),l=n.n(c),i=n(12),s=n(0),u=n.n(s);var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.searchHandle=a.searchHandle.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.searchHandle=function(e){this.context.router.history.push("/product/?search="+e)},t.prototype.render=function(){var e=this,t=o.a.Search;return l.a.createElement(a.a,{type:"flex",className:"search-container"},l.a.createElement(r.a,{span:12},l.a.createElement("ul",null,l.a.createElement("li",{className:"inline_li"},l.a.createElement("label",null,"热搜：")),l.a.createElement("li",{className:"inline_li"},l.a.createElement(i.b,{to:"/product/?search=英语"},"英语")),l.a.createElement("li",{className:"inline_li"},l.a.createElement(i.b,{to:"/product/?search=计算机"},"计算机")),l.a.createElement("li",{className:"inline_li"},l.a.createElement(i.b,{to:"/product/?search=数学"},"数学")),l.a.createElement("li",{className:"inline_li"},l.a.createElement(i.b,{to:"/product/?search=法律"},"法律")),l.a.createElement("li",{className:"inline_li"},l.a.createElement(i.b,{to:"/product/?search=经济"},"经济 CET4")))),l.a.createElement(r.a,{span:12},l.a.createElement(t,{placeholder:"input search text",onSearch:function(t){return e.searchHandle(t)},enterButton:!0})))},t}(c.Component);p.contextTypes={router:u.a.object},t.a=p},339:function(e,t,n){"use strict";n(73);var a=n(67),r=(n(140),n(65)),o=(n(145),n(99)),c=(n(323),n(368)),l=(n(72),n(15)),i=n(1),s=n.n(i),u=n(0),p=n.n(u),m=n(12);n(301);var f=function(e){var t=e.type,n=e.text;return s.a.createElement("span",{className:"pay-circle-o"===t?"pirce":""},s.a.createElement(l.a,{type:t,style:{marginRight:8}}),n)},d=function(e){var t=e.item;return[s.a.createElement(c.a,{title:t.seller.userName,shape:"square",src:t.seller.img,key:"user_avatar"}),s.a.createElement(o.a,{type:"vertical"}),s.a.createElement(m.b,{to:"/seller/"+t.sellId},t.seller.userName),s.a.createElement(o.a,{type:"vertical"}),s.a.createElement(l.a,{className:"男"===t.seller.sex?"man":"woman",type:"男"===t.seller.sex?"man":"woman"}),s.a.createElement(o.a,{type:"vertical"}),s.a.createElement("span",null,t.seller.school)]},h=function(e){var t=e.item,n=e.handelBuy;return s.a.createElement(r.a.Item,{className:"hover",key:t.id,extra:s.a.createElement("img",{title:t.name,alt:t.name,className:"book_pic",src:t.img}),actions:[s.a.createElement(f,{type:"star-o",text:t.collect}),s.a.createElement(f,{type:"message",text:t.comment.length}),s.a.createElement(f,{type:"pay-circle-o",text:t.price}),s.a.createElement(f,{type:"pay-circle",text:s.a.createElement("del",null,t.oldPrice)})]},s.a.createElement(r.a.Item.Meta,{title:s.a.createElement(m.b,{to:"/detail/"+t.id},t.name),description:s.a.createElement(d,{item:t})}),s.a.createElement("ul",{className:"book_info_list"},s.a.createElement("li",null,t.author),s.a.createElement("li",null,t.news),s.a.createElement("li",null,"类别："+t.category),s.a.createElement("li",null,"库存："+t.num)),s.a.createElement(a.a,{type:"primary",icon:"shopping-cart",className:"buy_btn",onClick:function(){return n(t.id)}},"立即购买"))},y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handelBuy=a.handelBuy.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handelBuy=function(e){this.context.router.history.push("/detail/"+e)},t.prototype.render=function(){var e=this,t=this.props.listData;return s.a.createElement(r.a,{key:"goodBooks",itemLayout:"vertical",size:"large",dataSource:t,renderItem:function(t){return s.a.createElement(h,{handelBuy:e.handelBuy,item:t})}})},t}(s.a.Component);y.contextTypes={router:p.a.object},t.a=y,y.propTypes={listData:p.a.array}},573:function(e,t){},599:function(e,t,n){"use strict";n.r(t);n(72);var a=n(15),r=(n(141),n(66)),o=n(1),c=n.n(o),l=n(0),i=n.n(l),s=n(12),u=n(50),p=(n(588),n(604));n(316);var m=function(e){function t(n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return c.a.createElement("div",{className:"Carousel"},c.a.createElement("div",{className:"prev"},c.a.createElement(a.a,{type:"left"})),c.a.createElement(p.a,{dots:!0,infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,arrows:!0},c.a.createElement("div",null,c.a.createElement("h3",{className:"banner_01"},"1")),c.a.createElement("div",null,c.a.createElement("h3",{className:"banner_02"},"2")),c.a.createElement("div",null,c.a.createElement("h3",{className:"banner_03"},"3")),c.a.createElement("div",null,c.a.createElement("h3",{className:"banner_04"},"4"))),c.a.createElement("div",{className:"next"},c.a.createElement(a.a,{type:"right"})))},t}(o.Component),f=(n(573),n(339)),d=(n(140),n(65)),h=(n(572),n(593)),y=function(e){var t=e.type,n=e.text,r=e.title;return c.a.createElement("span",{title:r},c.a.createElement(a.a,{type:t,style:{marginRight:8}}),n)},E=function(e){var t=e.price,n=e.oldPrice;return c.a.createElement("p",{className:"priceContainer"},"￥ "+t,c.a.createElement("del",{className:"delPrice"},"￥ "+n))},b=function(e){var t=e.bookInfo;return c.a.createElement(h.a,{key:t.bookid,style:{margin:"10px"},hoverable:!0,cover:c.a.createElement("img",{title:t.name,alt:t.name,className:"book_pic",src:t.img}),actions:[c.a.createElement(y,{title:"收藏数",type:"star-o",text:t.collectNum}),c.a.createElement(y,{title:"留言数",type:"message",text:t.buyNum})]},c.a.createElement(h.a.Meta,{title:c.a.createElement(s.b,{to:"/detail/"+t.bookid},t.name),description:c.a.createElement(E,{price:t.price,oldPrice:t.oldPrice})}))};n(315);var v=function(e){var t=e.item;return c.a.createElement(d.a.Item,null,c.a.createElement(b,{bookInfo:t}))},g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={listData:a.props.listData},a.pageHandle=a.pageHandle.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){console.log(this.props.listData)},t.prototype.pageHandle=function(e){console.log(e)},t.prototype.render=function(){var e=this.props.listData;return[c.a.createElement(d.a,{key:"goodBooks",grid:{gutter:16,xs:1,sm:2,md:3,lg:3,xl:4,xxl:3},size:"large",dataSource:e,renderItem:function(e){return c.a.createElement(v,{item:e})}})]},t}(o.Component),w=n(338),_=n(337);n(314);var N=function(e){var t=e.data;return c.a.createElement(_.a,{data:t})};N.propTypes={data:i.a.array.isRequired};var O={HotBooks:N,QQContact:function(){return c.a.createElement("h3",{className:"qqContact"},c.a.createElement(a.a,{type:"qq"}),"用户反馈交流群: ",c.a.createElement("a",null,"375220192"))}},j=(n(147),n(322)),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(304),n(313);var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.onGetData(null,"/product/book/list")},t.prototype.render=function(){var e=r.a.Header,t=r.a.Content,n=r.a.Sider,o=this.props,l=o.newBooks,i=o.goodsilderBooks,u=o.goodPerson,p=this.props.data,d=[i,u];return c.a.createElement("div",null,c.a.createElement(m,null),c.a.createElement(r.a,{className:"content-layout"},c.a.createElement(e,{className:"white_bgColor"},c.a.createElement(w.a,null)),c.a.createElement(r.a,null,c.a.createElement(n,{width:"300"},c.a.createElement(O.QQContact,null),c.a.createElement(O.HotBooks,{data:d})),c.a.createElement(t,null,c.a.createElement("div",null,c.a.createElement("div",{className:"contentHeader"},c.a.createElement("div",{className:"title"},c.a.createElement("span",null,"热门书籍")),c.a.createElement("div",{className:"more"},c.a.createElement(s.b,{to:"/product?search=hotBooks"},"查看更多",c.a.createElement(a.a,{type:"double-right"})))),c.a.createElement(g,{listData:p})),c.a.createElement("div",null,c.a.createElement("div",{className:"contentHeader"},c.a.createElement("div",{className:"title"},c.a.createElement("span",null,"最新书籍")),c.a.createElement("div",{className:"more"},c.a.createElement(s.b,{to:"/product?search=newBooks"},"查看更多",c.a.createElement(a.a,{type:"double-right"})))),c.a.createElement(f.a,{listData:l}))))))},t}(o.Component);x.contextTypes={store:i.a.object};t.default=Object(u.connect)(function(e,t){console.log(e,t);var n=e.asyncReducer,a=e.loginInOutReducer;return k({},a,n)},function(e){return{onGetData:function(t,n){e(Object(j.a)("homePage",t,n))}}})(x)}}]);